# Minecraft Server - Linux

This entry describes the process of installing a Minecraft server on a Linux server. Additionally, a web interface is installed to simplify server management.

#### Preparation

- Virtual machine with at least 2 cores, 4GB RAM, and 16GB storage.
- Debian ISO, which can be obtained from the official site. [Debian -- Get Debian](https://www.debian.org/distrib/)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/JtXimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/JtXimage.png)

#### Operating System Installation

The installation of Debian follows a guided process. Only a few standard changes need to be made.

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/W7Jimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/W7Jimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/DeTimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/DeTimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/3bsimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/3bsimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/iERimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/iERimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/lpgimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/lpgimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/ScHimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/ScHimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/P2Pimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/P2Pimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/BgZimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/BgZimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/PJnimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/PJnimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/vIQimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/vIQimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/jmJimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/jmJimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/OQmimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/OQmimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/jXCimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/jXCimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/blEimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/blEimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/UTOimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/UTOimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/lnSimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/lnSimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/TXaimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/TXaimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/W9kimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/W9kimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/9zMimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/9zMimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/cmFimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/cmFimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/gkximage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/gkximage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/QdGimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/QdGimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/cIKimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/cIKimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/Vskimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/Vskimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/xGtimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/xGtimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/GJuimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/GJuimage.png)

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/cMaimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/cMaimage.png)

#### Installation of Docker and Portainer

After logging in as the root user, check for updates with the following commands:

Install `sudo`:

```
apt install sudo
```

Add the second created account to the sudoers file:

```
adduser calma-media sudo
```

Switch to the second user:

```
su calma-media
```
Update Debian libraries:

```
sudu apt update
```

```
sudo apt upgrade
```
Once completed, you can begin the installation of Docker. All further installations and configurations will be performed with the second user account.

```
sudo apt install docker.io
```

```
sudo systemctl start docker
```
Next, you can install Portainer:

```
sudo docker run -d -p 8000:8000 -p 9000:9000 -p 9443:9443 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce:latest
```

Portainer is then accessible via the VM's IP address and port 9443. Here, you can set the username and password on the homepage.

If the IP address is unknown because DHCP was set during setup, the following command can be used to display the address:

```
sudo ip ad
```

#### [![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/OQlimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/OQlimage.png)  
Installation of the Crafty Container

After logging in, click on "Home" and then "Live Connect."

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/P0cimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/P0cimage.png)

Here you can see an overview of the created stacks, containers, images, volumes, and networks.

![Stacks Overview](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/F8Aimage.png)  
To create a Crafty container, we switch to "Stacks" and then click on "+ Add Stack."

![Add Stack](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/1buimage.png)  
Here, a Crafty container can be created with the following Compose configuration.

```
version: '3'

services:
  crafty:
    container_name: crafty
    image: registry.gitlab.com/crafty-controller/crafty-4:latest
    restart: always
    environment:
        - TZ=Europe/Berlin
    ports:
        - "8080:8080" # HTTP
        - "8443:8443" # HTTPS
        - "8123:8123" # DYNMAP
        - "25500-25600:25500-25600" # MC SERV PORT RANGE
    volumes:
        - ./docker/backups:/crafty/backups
        - ./docker/logs:/crafty/logs
        - ./docker/servers:/crafty/servers
        - ./docker/config:/crafty/app/config
        - ./docker/import:/crafty/import
```

The title of the Compose file can be entered in the Name field. The above code goes in the web editor. Ports can be adjusted as needed.

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/3PZimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/3PZimage.png)  
Once a name has been given and the code entered, you can click on "Deploy the Stack."

After a successful deployment, you first need to retrieve the Crafty container's credentials from the default-creds.txt file. These can be accessed again via the server's CLI.

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/S5simage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/S5simage.png)  

To do this, first, list all Docker containers.

```
sudo docker ps
```

Look for "registry.gitlab.com/crafty-controller/crafty-4." You will need the container ID from this. 
  
[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/NJvimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/NJvimage.png)  
Next, you can access the CLI of the container:

```
docker exec -it 57a199004f3d /bin/bash
```

and call up the .txt file:

```
cat app/config/default-creds.txt
```

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/sEximage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/sEximage.png)  
Once you have copied the password, you can now access the user interface. Here, use https://[server-ip]:[crafty-https-port].

#### ![fqdimage.png](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/vHXfqdimage.png)

#### Setting Up the First Server

After a successful login, you will see the interface.

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/Wuaimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/Wuaimage.png)  
New servers can be created through "Servers" and "Create New Server."

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/TNiimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/TNiimage.png)  
Here are the default settings for a vanilla server. RAM can be allocated according to the installed RAM.

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/rbKimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/rbKimage.png)  
With a click on "Create Server!", the server will be created.

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/UZjimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/UZjimage.png)  
After the server has been created, you will be redirected back to the dashboard. Here, you can start the server for the first time. Accepting the Minecraft EULA is necessary when starting the server.

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/iz0image.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/iz0image.png)  
  
Done. The server is now accessible through the Minecraft installation. Simply enter the server's IP address, sometimes with the addition of the port.

[![image](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/Yisimage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/Yisimage.png)  
Through "Server" -> "[Servername]," you can view logs and adjust further settings. The server.properties file can be accessed through files and edited directly on the web interface. Here, settings such as difficulty, using a whitelist, or server description can be adjusted. A more detailed explanation of the server.properties can be found in the entry Minecraft Server - Win... | Wikimedia (calma-media.com).

[![image.png](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/scaled-1680-/U0Ximage.png)](https://bookstack.calma-media.com/uploads/images/gallery/2024-04/U0Ximage.png)
